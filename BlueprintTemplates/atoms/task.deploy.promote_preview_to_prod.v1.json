{
  "id": "task.deploy.promote_preview_to_prod.v1",
  "kind": "atom",
  "version": 1,
  "meta": { "visibility": "internal", "priority": 6 },
  "title": "Deploy: Promote preview to production (gated)",
  "description": "Defines a gated promotion from preview to prod with checks and WAIT_USER if evidence is missing. Abstract.",
  "tags": ["deploy", "promotion", "gates", "wait_user"],
  "updatedUtc": "2025-12-28T00:00:00Z",
  "content": {
    "action": "deploy_promote_preview_to_prod",
    "inputs": ["projectRoot", "evidenceBundle?", "gates"],
    "outputs": ["promotionPlan", "waitUser"],
    "rules": [
      "if smoke tests not green => waitUser true",
      "require explicit user confirmation for prod promotion",
      "avoid vendor details"
    ]
  }
}
