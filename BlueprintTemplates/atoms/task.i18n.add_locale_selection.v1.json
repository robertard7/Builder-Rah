{
  "id": "task.i18n.add_locale_selection.v1",
  "kind": "atom",
  "version": 1,
  "meta": { "visibility": "internal", "priority": 6 },
  "title": "i18n: Add locale selection + fallback",
  "description": "Defines how locale is selected (user setting/env/header) and applied, including fallback chain.",
  "tags": ["i18n", "locale", "fallback"],
  "updatedUtc": "2025-12-28T00:00:00Z",
  "content": {
    "action": "i18n_add_locale_selection",
    "inputs": ["projectRoot", "appType?", "catalogContract"],
    "outputs": ["localeSelectionPlan", "fallbackChain"],
    "rules": [
      "must support explicit user choice",
      "must support default locale",
      "must define fallback when translation missing"
    ]
  }
}
