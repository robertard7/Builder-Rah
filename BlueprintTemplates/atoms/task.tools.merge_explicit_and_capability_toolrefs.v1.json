{
  "id": "task.tools.merge_explicit_and_capability_toolrefs.v1",
  "kind": "atom",
  "version": 1,
  "meta": { "visibility": "internal", "priority": 11 },
  "title": "Tools: Merge explicit toolRefs + capabilityRefs",
  "description": "Combines explicitly declared toolRefs with resolved toolRefs from capabilityRefs. Explicit toolRefs take precedence and are not overridden.",
  "tags": ["tools", "toolrefs", "capabilities", "merge"],
  "updatedUtc": "2025-12-28T00:00:00Z",
  "content": {
    "action": "merge_toolrefs",
    "inputs": ["explicitToolRefs", "resolvedToolRefs"],
    "outputs": ["mergedToolRefs", "notes"],
    "rules": [
      "explicit toolRefs always included first in order",
      "resolved toolRefs appended if toolId not already present",
      "do not invent toolIds"
    ]
  }
}
