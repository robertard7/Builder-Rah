C:\dev\rah\RahOllamaOnly\Tools\Prompt\sys.env.txt
TOOL ID:
sys.env

CATEGORY:
system

PURPOSE:
Print a trimmed, sorted view of environment variables inside the rah-linux container.
This is used to detect missing configuration, unexpected PATH values, and runtime flags.

WHEN TO USE:
- You need to see PATH to understand why a command can’t be found.
- You need to confirm proxy variables (HTTP_PROXY, HTTPS_PROXY, NO_PROXY) if networking behaves oddly.
- You need to confirm locale variables affecting tooling output (LANG, LC_ALL).
- You need to confirm DOTNET-related env (DOTNET_ROOT, DOTNET_CLI_HOME) when dotnet fails.
- You need to confirm CI-style variables or container runtime markers.
- You suspect the process is inheriting junk environment variables from the runner.

WHEN NOT TO USE:
- You need detailed OS identity: use sys.os.
- You need process list with per-process env: sys.env shows only current process env.
- You need to locate binaries: use sys.which.
- You need to inspect mounts or writable paths: use sys.mount.check or sys.info.
- You need secrets or tokens: do not use this tool to exfiltrate; redact before sharing externally.

INPUT PARAMETERS:
- {args} parsing:
  - This tool does not accept arguments.
  - Any provided {args} is ignored by the underlying command template.
- Positional arguments:
  - None.
- Optional arguments:
  - None.
- Defaults:
  - Sorts the environment and prints the first 350 lines.
- Error conditions:
  - env command missing (rare).
  - sort missing (rare).
  - Output may be truncated intentionally at 350 lines.

EXECUTION ENVIRONMENT:
- Runs inside rah-linux container.
- Working directory behavior:
  - Does not change directory.
- File system assumptions:
  - None required.

OUTPUT:
- stdout behavior:
  - Lines formatted as KEY=VALUE, sorted lexicographically.
  - Output is truncated to first 350 lines.
- stderr behavior:
  - Any command failure emits stderr.
- exit codes and meanings:
  - 0: env and sort succeeded.
  - Non-zero: a required command failed.

SIDE EFFECTS:
- Files created/modified:
  - None.
- Network access:
  - None.
- Installed packages:
  - None.
- State changes:
  - None.

SAFETY RULES:
- MUST verify:
  - If the output contains secrets (tokens, passwords), do not repeat them back.
- MUST NEVER guess:
  - Do not assume missing variables exist.
  - Do not invent values for PATH, HOME, USER, etc.
- Requires user confirmation:
  - If you intend to use any discovered secret (token) to access a service, user must explicitly authorize.

COMMON FAILURE MODES:
- Output truncation hides variables after the first 350 lines.
- The env may differ depending on how the runner starts processes.
- PATH may be correct but a tool is missing; sys.which is the correct follow-up.

EXAMPLES:
1) sys.env
2) sys.env 
3) sys.env ignored
4) sys.env anything
5) sys.env does_not_take_args

ANTI-HALLUCINATION NOTES:
- Do NOT claim variables that are not shown.
- Do NOT assume the host Windows environment is present; this is container env only.
- Do NOT rewrite or “clean up” values when quoting; copy exactly if needed.
- If the needed variable is missing due to truncation, say “not visible in first 350 lines”.
- Do NOT infer installed software from env variables alone.
- Do NOT infer network access from proxy vars alone.
- Do NOT propose using secrets unless the user explicitly says to.
- This tool is diagnostic only; it does not set variables.
- Never pretend you can modify env from this tool.
- Do not add your own environment variables in explanations.
- If asked for “full env”, do not claim you can; the tool is intentionally trimmed.
- If a tool fails due to env, pair this with sys.which and sys.os for context.
- Keep output handling deterministic: treat it as exact text.
- Never invent “export” lines; env output is not a shell script.
- If you need a single variable, do not guess; use grep tools later (not here).
